var servicesModule=angular.module("authService",[]);servicesModule.factory("authHttp",["$http","TokenService","Environment",function(e,n){var r={};r.update=function(e){var r=e(),t=r.session;if(t){var i=t.split(";"),a=i[0].split("=")[1],o=i[1].split("=")[1];n.update(a,o)}},r.removeSession=function(){n.clear()},r.addTimezone=function(e){if(e.headers=e.headers||{},r.preferredTimezone)e.headers.TimezoneLocale=r.preferredTimezone;else{var n=new Date,t="GMT"+-n.getTimezoneOffset()/60,i=jstz.determine();i&&(e.headers.TimezoneLocale=i.name()),e.headers.Timezone=t}},r.setPreferredTimezone=function(e){r.preferredTimezone=e};var t=function(e){e.headers=e.headers||{},e.headers.Session=n.getToken(),r.addTimezone(e)};return angular.forEach(["get","delete","head","jsonp"],function(n){r[n]=function(r,i){return i=i||{},t(i),i.withCredentials=!0,e[n](r,i)}}),angular.forEach(["post","put"],function(n){r[n]=function(r,i,a){return a=a||{},t(a),a.withCredentials=!0,e[n](r,i,a)}}),r}]);