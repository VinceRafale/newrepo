<ion-view class="public-profile" view-title="Profile">
	<ion-nav-buttons side="left">
		<button menu-and-drawer-toggle class="button button-icon icon ion-navicon-round"></button>
	</ion-nav-buttons>

	<ion-nav-buttons side="right">
		<a href="#/app/editprofile/{{currUser._id}}" ng-if="isSelfProfile==true" class="button button-icon icon ion-compose"></a>
	</ion-nav-buttons>
	
	<ion-content class="profile-content">
		<div ng-if="allDataLoaded==1" class="profile-wrap">
			<div class="profile-avatar">
				<div class="col col-center avatar-backdrop">
					<a ng-click="changeAvatar()" ng-if="isSelfProfile==true" class="editprofile-btn">
						<i class="icon icon ion-edit"></i>
					</a>
					<p class="text-center">
						<img id="profile-avatar" img-preload ng-src="{{currUser.avatar}}" alt="" class="preloadFade">						
					</p>	


				</div>
				<div class="name-wrap">
					<h3 class="text-center">
						{{currUser.fullname | uppercase}}
					</h3>
				</div>
			</div>
			<div class="stats">
				<div class="row">
					<div class="col">
						<h5>{{currUser.follower_count}}</h5>
						<p>Followers</p>
					</div>
					<div class="col">
						<h5>{{currUser.following_count}}</h5>
						<p>Following</p>
					</div>
					<div class="col">
						<h5>{{currUser.post_count}}</h5>
						<p>Posts</p>
					</div>

				</div>
			</div>
			<div ng-if="recentPosts.length>0" class="post-wrap">
				
				<div ng-repeat="post in recentPosts" class="post-item card">
					<img img-preload ng-src="{{post.image_url}}" alt="" class="full-image preloadFade">
				</div>			
				
			</div>
			<div class="padding actions">
				<a ng-disabled="isSelfProfile==true" ng-click="follow('{{currUser[0].user_id._id}}')" class="item item-icon-left item-icon-right follow">
					<i class="icon ion-person-add"></i>
					FOLLOW
					<i class="icon ion-chevron-right"></i>
				</a>
				<a ng-disabled="isSelfProfile==false" ng-click="addNewPost()" class="item item-icon-left item-icon-right addpost">
					<i class="icon ion-camera"></i>ADD A PHOTO
					<i class="icon ion-chevron-right"></i>
				</a>
				<a ng-click="logOut()" ng-disabled="isSelfProfile==false" class="item logout item-icon-left item-icon-right">
					<i class="icon ion-log-out"></i>LOG OUT
					<i class="icon ion-chevron-right"></i>
				</a>
			</div>
		</div>
	</ion-content>
</ion-view>