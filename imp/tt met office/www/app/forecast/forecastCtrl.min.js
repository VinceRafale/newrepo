angular.module("ionic.metApp").controller("ForecastCtrl",["metApi","$interval","$ionicHistory","$route","$localstorage","$rootScope",function(t,e,a,o,r,c){var n=this;n.forecast=r.getObject("fcast"),n.forecast.PiarcoRainfall=n.forecast.PiarcoRainfall.replace(/mm/g,""),n.forecast.CrownPointRinfall=n.forecast.CrownPointRinfall.replace(/mm/g,""),n.forecast.cumlativeRain=n.forecast.cumlativeRain.replace(/mm/g,"");var i=6e5;e(function(){a.clearCache().then(function(){o.reload(),n.getForecast(),o.reload()})},i),n.getForecast=function(){t.get_forecast().then(function(t){n.forecast=t.data.items[0]},function(t){c.doAlert("Error getting forecast")})}}]);