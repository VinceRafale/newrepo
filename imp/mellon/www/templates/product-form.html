<form class="productForm" name="productForm" class="panel panel-default" novalidate> <div class="list"> <div ng-if="product.id" class="item item-divider item-body"> {{ 'Change deal type' | translate }} </div> <div ng-if="product.id" class="item item-icon-right font-large item-body" ng-click="openModalTransactionType()">{{transactionType.menuLabel}} <span class="icon ion-ios-arrow-right"></span></div> <div class="item item-divider item-body" ng-class="{'error':(boxShowErrors.category && !checkExistsCategory())}"> {{ 'Choose category' | translate }} <div class="info-error" ng-if="boxShowErrors.category && !checkExistsCategory()">{{ 'You must choose a category' | translate }}</div> </div> <div class="item item-icon-right font-large item-body" ng-click="openModalCategory()">{{product.mainCategory && product.subCategory ? product.mainCategory.name+' / '+product.subCategory.name : ('Category' | translate)}} <span class="icon ion-ios-arrow-right"></span></div> <div class="item item-divider item-body" ng-class="{'error':(boxShowErrors.title && (productForm.title.$invalid || productForm.description.$invali))}"> {{ 'Describe your item' | translate }} <div class="info-error" ng-if="productForm.title.$error.maxlength">{{ 'Title must be maximum 27 characters long' | translate }}</div> <div class="info-error" ng-if="boxShowErrors.title && productForm.title.$invalid && !productForm.title.$error.maxlength">{{ 'You must provide a title' | translate }}</div> <div class="info-error" ng-if="boxShowErrors.title && productForm.description.$invalid">{{ 'You must provide a description' | translate }}</div> </div> <label class="item item-input font-large"> <input ng-model="product.title" name="title" type="text" placeholder="{{ 'Title' | translate }}" ng-required="true" ng-maxlength="27" maxlength="27" tabindex="1"> </label> <label class="item item-input font-large"> <textarea ng-model="product.description" name="description" placeholder="{{ 'Description' | translate }}" ng-required="true" tabindex="2" msd-elastic="\n"></textarea> </label> <div ng-if="transactionType.code=='sale' || transactionType.code=='rent'"> <div class="item item-divider item-body" ng-class="{'error':(boxShowErrors.price && (productForm.price.$invalid || !checkPrice(product.price)))}"> {{ 'Set a price' | translate }} <div class="info-error" ng-if="boxShowErrors.price && productForm.price.$invalid">{{ 'You must set a price' | translate }}</div> <div class="info-error" ng-if="boxShowErrors.price && !checkPrice(product.price)">{{ 'Sorry, the maximum price allowed is ' | translate }}{{product.currency ? product.currency.symbol : ''}}{{maxPrice}}</div> </div> <div class="item inline-options"> <input class="radio" type="radio" ng-model="product.no_price" value="0" ng-value="0" ng-change="changeNoPrice()" id="noprice-0-{{transactionType.code}}-{{product.id}}" name="noprice"><label for="noprice-0-{{transactionType.code}}-{{product.id}}">&nbsp;</label> <span class="price-box font-large"> <label class="currency" for="price-currency-select-{{transactionType.code}}-{{product.id}}">{{product.currency ? product.currency.symbol : ''}}</label> <span class="price-input"> <input ng-if="isAndroid" ng-model="product.price" name="price" type="tel" placeholder="0.00" ng-required="!product.no_price" ng-disabled="product.no_price" tabindex="4"> <input ng-if="!isAndroid" ng-model="product.price" name="price" type="text" placeholder="0.00" ng-required="!product.no_price" ng-disabled="product.no_price" tabindex="4"> </span> </span> <input class="radio" type="radio" ng-model="product.no_price" value="1" ng-value="1" ng-change="changeNoPrice()" id="noprice-1-{{transactionType.code}}-{{product.id}}" name="noprice"><label for="noprice-1-{{transactionType.code}}-{{product.id}}">{{ 'ON REQUEST' | translate }}</label> </div> <select class="price-currency-select" id="price-currency-select-{{transactionType.code}}-{{product.id}}" ng-model="product.currency" ng-options="currency as currency.symbol for currency in currencies" tabindex="3"></select> </div> <div class="item item-divider item-body" ng-class="{'error':(boxShowErrors.conditions && !checkExistsCondition())}"> {{ 'Choose condition' | translate }} <div class="info-error" ng-if="boxShowErrors.conditions && !checkExistsCondition()">{{ 'You must choose a condition' | translate }}</div> </div> <div class="item item-icon-right font-large item-body" ng-click="openModalCondition()">{{product.condition ? product.condition.name : ('Condition' | translate)}} <span class="icon ion-ios-arrow-right"></span></div> <div class="item item-divider">{{ 'Add pictures/videos' | translate }}</div> <div class="item images"> <div ng-if="product.images[0].url" class="image-box" style="{{(!product.images[0].saved || product.images[0].type=='video') && product.images[0].url ? 'background-image:url('+product.images[0].url+')' : ''}}"> <cl-image public-id="{{product.images[0].url}}" class="thumbnail inline" format="jpg" secure="secure" ng-if="product.images[0].saved && product.images[0].type=='image'"> <cl-transformation height="150" width="150" crop="fill"></cl-transformation> </cl-image> <a ng-click="showUploadActionSheet(0)"></a> </div> <div ng-if="product.images[1].url" class="image-box" style="{{(!product.images[1].saved || product.images[1].type=='video') && product.images[1].url ? 'background-image:url('+product.images[1].url+')' : ''}}"> <cl-image public-id="{{product.images[1].url}}" class="thumbnail inline" format="jpg" secure="secure" ng-if="product.images[1].saved && product.images[1].type=='image'"> <cl-transformation height="150" width="150" crop="fill"></cl-transformation> </cl-image> <a ng-click="showUploadActionSheet(1)"></a> </div> <div ng-if="product.images[2].url" class="image-box" style="{{(!product.images[2].saved || product.images[2].type=='video') && product.images[2].url ? 'background-image:url('+product.images[2].url+')' : ''}}"> <cl-image public-id="{{product.images[2].url}}" class="thumbnail inline" format="jpg" secure="secure" ng-if="product.images[2].saved && product.images[2].type=='image'"> <cl-transformation height="150" width="150" crop="fill"></cl-transformation> </cl-image> <a ng-click="showUploadActionSheet(2)"></a> </div> <div ng-if="product.images[3].url" class="image-box" style="{{(!product.images[3].saved || product.images[3].type=='video') && product.images[3].url ? 'background-image:url('+product.images[3].url+')' : ''}}"> <cl-image public-id="{{product.images[3].url}}" class="thumbnail inline" format="jpg" secure="secure" ng-if="product.images[3].saved && product.images[3].type=='image'"> <cl-transformation height="150" width="150" crop="fill"></cl-transformation> </cl-image> <a ng-click="showUploadActionSheet(3)"></a> </div> <a ng-if="countImages()<4" class="add-image-box" ng-click="showUploadActionSheet(false)"><span></span></a> <div ng-if="countImages()<3" class="image-box empty"></div> <div ng-if="countImages()<2" class="image-box empty"></div> <div ng-if="countImages()<1" class="image-box empty"></div> </div> <div class="item item-divider">{{ 'Add tags' | translate }}</div> <label class="item item-input font-large"> <input ng-model="product.custom_hashtags" type="text" placeholder="{{ 'Hashtag' | translate }}" tabindex="5"> </label> <div class="item item-divider">{{ 'Choose a location for your deal' | translate }}</div> <label class="item item-input"> <input ng-model="product.location" type="text" placeholder="{{ 'Place' | translate }}" tabindex="6"> </label> <div ng-if="transactionType.code=='rent' || transactionType.code=='lend'"> <div class="item item-divider">{{ 'Choose availability dates' | translate }}</div> <label class="item item-input"> <span class="input-label">{{ 'From' | translate }}</span> <input ng-model="product.available_from_date" type="date" min="{{date | date:'yyyy-MM-dd'}}" tabindex="7"> </label> <label class="item item-input"> <span class="input-label">{{ 'To' | translate }}</span> <input ng-model="product.expiration_date" type="date" min="{{date | date:'yyyy-MM-dd'}}" tabindex="8"> </label> </div> <div class="item item-divider" ng-class="{'error':(boxShowErrors.delivery && !checkShippingTypeOptions())}"> {{ 'Select delivery type (if applicable)' | translate }} <div class="info-error" ng-if="boxShowErrors.delivery && !checkShippingTypeOptions()">{{ 'Please fill in the field' | translate }}</div> </div> <div class="item multirow-options"> <ion-spinner ng-if="!product.shippingTypes.length"></ion-spinner> <div ng-repeat="sT in product.shippingTypes"> <input class="checkbox" type="checkbox" ng-model="sT.checked" id="st-{{sT.id}}-{{transactionType.code}}-{{product.id}}" ng-true-value="true" ng-false-value="false"><label for="st-{{sT.id}}-{{transactionType.code}}-{{product.id}}">{{sT.name}}</label> <input ng-if="sT.checked && sT.has_custom_value" ng-model="sT.custom_value" type="text" ng-required="true" placeholder="{{ 'Where' | translate }}"> <input ng-if="sT.checked && sT.has_price" t ng-model="sT.price" type="text" ng-required="true" placeholder="{{ 'Price' | translate }}"> </div> </div> <div ng-if="transactionType.code!='gift' && transactionType.code!='lend'"> <div class="item item-divider item-body" ng-class="{'error':(boxShowErrors.payment && (!checkExistsPaymentType() || !checkPaypalPaymentType()))}"> {{ 'Select payment type' | translate }} <div class="info-error" ng-if="boxShowErrors.payment && !checkExistsPaymentType()">{{ 'You must select a payment type' | translate }}</div> <div class="info-error" ng-if="boxShowErrors.payment && !checkPaypalPaymentType()">{{ 'To use PayPal you must specify your credentials in your Profile settings' | translate }}</div> </div> <div class="item inline-options"> <ion-spinner ng-if="!product.paymentTypes.length"></ion-spinner> <div ng-repeat="pT in product.paymentTypes"> <input class="checkbox" type="checkbox" ng-model="pT.checked" id="pt-{{pT.id}}-{{transactionType.code}}-{{product.id}}" ng-true-value="true" ng-false-value="false"><label for="pt-{{pT.id}}-{{transactionType.code}}-{{product.id}}">{{pT.name}}</label> </div> </div> </div> <div class="item item-divider">{{ 'Choose who can see your item' | translate }}</div> <div class="item multirow-options"> <div ng-repeat="v in visibilityTypes"> <input class="radio" type="radio" ng-model="product.visibility" id="v-{{v.value}}-{{transactionType.code}}-{{product.id}}" value="{{v.value}}"><label for="v-{{v.value}}-{{transactionType.code}}-{{product.id}}">{{v.name}}</label> </div> </div> <div ng-if="user.facebook_id && FBPublishAllowed"> <div class="item item-divider">{{ 'Share on Facebook' | translate }}</div> <ion-toggle ng-model="product.allow_posting_on_facebook" ng-checked="product.allow_posting_on_facebook ? true : false" class="font-large blue" ng-true-value="1" ng-false-value="0">{{ 'Publish your deal' | translate }}</ion-toggle> <label class="item item-input font-large" ng-show="product.allow_posting_on_facebook"> <textarea ng-model="product.facebook_comment" name="facebook_comment" placeholder="{{ 'add a comment to your post' | translate }}" tabindex="9"></textarea> </label> <ion-toggle ng-show="product.allow_posting_on_facebook" ng-model="product.animated_gif_on_facebook" ng-checked="product.animated_gif_on_facebook ? true : false" ng-true-value="1" ng-false-value="0">{{ 'Publish with animated gif' | translate }}</ion-toggle> </div> <div class="item item-divider" ng-if="product.id">{{ 'Status' | translate }}</div> <div class="item" ng-if="product.id"> {{product.status==0 ? ('Draft' | translate) : ('Published' | translate)}} </div> <div class="item"> <div class="info-error" ng-if="boxShowErrors.publish && !user.status">{{ 'To Publish a Deal you need to confirm your account (check your email inbox!). You can save this deal as a draft to publish it after confirming the account.' | translate }}</div> <button class="button button-full button-{{transactionType.code}}" ng-click="savePublic(productForm)">{{product.id && product.status==1 ? ('Save and publish' | translate) : ('Publish now' | translate)}}</button> <button class="button button-full" ng-click="saveDraft(productForm)">{{product.id ? (product.status!=0 ? ('Delist and save as draft' | translate) : ('Save edits' | translate)) : ('Save as draft' | translate)}}</button> <button class="button button-full" ng-click="confirmCancel(productForm)">{{product.id ? ('Discard edits' | translate) : ('Discard' | translate)}}</button> </div> </div> </form>