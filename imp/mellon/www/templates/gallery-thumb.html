<div class="image-container"> <div class="ribbon-triangle" ng-if="prod.status==0 || prod.status==2"> <div class="ribbon-message" ng-if="prod.status==0">{{ 'DRAFT' | translate }}</div> <div class="ribbon-message" ng-if="prod.status==2">{{ 'GONE' | translate }}</div> </div> <div class="image-video default-image" ng-if="prod.defaultImage!=null"> <img ng-src="{{prod.defaultImage}}" width="100%"> </div> <div class="image-video" ng-repeat="media in prod.media" ng-if="activePhoto==$index"> <div ng-class="{'proportional': (media.width && media.height)}" style="{{(media.width && media.height) ? 'padding-bottom:'+((media.height*100)/media.width | number: 2)+'%' : ''}}"> <cl-image public-id="{{media.mediaUrl}}" class="thumbnail inline" format="jpg" secure="secure" ng-if="media.type === 'image' && media.mediaUrl!=''"> <cl-transformation width="700" crop="fill"></cl-transformation> </cl-image> <mln-video class="full-image product-image" video-id="media.mediaUrl" ng-if="media.type === 'video' && media.mediaUrl!=''"> </mln-video> </div> </div> <div class="button-container"> <button class="button horizontal-button share-button" ng-class="{'share-button-small': showMoreButton}" ng-click="share(prod)" ion-stop-event="click">{{ 'SHARE' | translate }}</button><button ng-if="showMoreButton" class="button horizontal-button more-button" ng-click="showReportActionSheet()" ion-stop-event="click">...</button><button class="button horizontal-button product-price" ng-class="prod.transactionType.code" ng-switch on="prod.transaction_type_id" ng-click="chatOnPrice ? goToThread(prod.user_id) : ''"> <span ng-if="(prod.transaction_type_id === 1 || prod.transaction_type_id === 2) && prod.price !== null"> {{ prod.price | currency:prod.currency.symbol+' ':(Math.floor(prod.price)==prod.price ? 0 : 2) }} </span> <span class="text" ng-if="(prod.transaction_type_id === 1 || prod.transaction_type_id === 2) && prod.price === null"> {{ 'on request' | translate }} </span> <span class="text" ng-if="prod.transaction_type_id === 3 || prod.transaction_type_id === 4"> {{ 'free' | translate }} </span> </button> </div> </div> <div ng-if="showThumb && prod.media.length > 1" class="thumb-container"> <div class="image-box" ng-repeat="media in prod.media" ng-click="changeImage($index)"> <cl-image public-id="{{media.mediaUrl}}" class="thumbnail inline" format="jpg" secure="secure" resource-type="{{media.type}}"> <cl-transformation height="80" width="80" crop="fill"></cl-transformation> </cl-image> </div> </div>