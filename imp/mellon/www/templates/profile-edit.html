<ion-view> <ion-nav-title>{{ 'Edit my Profile' | translate }}</ion-nav-title> <ion-content class="profile-edit"> <ion-list> <ion-item class="item-thumbnail-left my-user-name no-border-top"> <cl-image ng-if="user.facebook_id || user.image" public-id="{{user.image ? user.image : user.facebook_id}}" class="thumbnail inline" format="jpg" secure="secure" type="{{user.image ? 'upload' : 'facebook'}}" ng-click="user.canEditProfile ? showUploadActionSheet(0) : ''"> <cl-transformation height="140" width="140" crop="fill"> </cl-image> <img ng-if="!user.facebook_id && !user.image" src="img/avatar-placeholder.svg" class="thumbnail inline" ng-click="user.canEditProfile ? showUploadActionSheet(0) : ''"> <button class="button button-clear button-small" ng-if="user.canEditProfile && (!user.facebook_id && !user.image)" ng-click="showUploadActionSheet(0)">{{'UPLOAD PHOTO' | translate}}</button> <button class="button button-clear button-small" ng-if="user.canEditProfile && (user.facebook_id || user.image)" ng-click="showUploadActionSheet(0)">{{'EDIT PHOTO' | translate}}</button> </ion-item> <label class="item item-input {{user.canEditProfile ? '' : 'editprofile-disabled'}}"> <span style="margin-right: 20px">{{ 'NAME:' | translate }}</span> <input type="text" ng-readonly="!user.canEditProfile" placeholder="{{ 'First Name' | translate }}" value="{{user.name}}" ng-model="user.name" ng-blur="setUserDetail(user.id,{'name':user.name})"> </label> <label class="item item-input {{user.canEditProfile ? '' : 'editprofile-disabled'}}"> <span style="margin-right: 20px">{{ 'SURNAME:' | translate }}</span> <input type="text" ng-readonly="!user.canEditProfile" placeholder="{{ 'Last Name' | translate }}" value="{{user.surname}}" ng-model="user.surname" ng-blur="setUserDetail(user.id,{'surname':user.surname})"> </label> <ion-item class="editprofile-disabled" ng-if="user.email"> {{ 'Email:' | translate }} <span>{{user.email}}</span> </ion-item> <ion-item class="editprofile-disabled" ng-if="user.phone_number_normalized"> {{ 'Phone:' | translate }} <span>{{user.phone_number_normalized}}</span> </ion-item> <ion-toggle ng-model="user.visibility" ng-checked="user.visibility === 0 ? true : false" ng-true-value="0" ng-false-value="1" ng-click="setVisibility(user.id, user.visibility)">{{ 'PRIVATE PROFILE' | translate }}</ion-toggle> <div class="privacy-text"> {{ 'When your account is private, only people you approve can see your deals on Mellon. Your existing followers won\'t be affected.' | translate }} </div> </ion-list> </ion-content> </ion-view>