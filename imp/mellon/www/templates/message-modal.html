<ion-modal-view id="payment-request-modal" class="small-modal"> <ion-header-bar class="bar bar-header modal-header"> {{ 'CREATE A PAYMENT REQUEST FOR' | translate }} <div class="item-avatar"> <img ng-if="!friendData.avatar" src="img/avatar-placeholder.svg"> <cl-image ng-if="friendData.avatar" public-id="{{friendData.facebook_id ? friendData.facebook_id : friendData.avatar}}" format="jpg" secure="secure" type="{{friendData.facebook_id ? 'facebook' : 'upload'}}"> <cl-transformation height="110" width="110" crop="fill"> </cl-image> </div> </ion-header-bar> <ion-content class="has-modal-header" overflow-scroll="true"> <form name="sendPaymentRequestForm" novalidate class="send-payment-request-form"> <div class="item item-white item-price-label"> {{ 'CHOOSE A PRICE' | translate }} </div> <div class="item price-box"> <span class="currency ng-binding"> <label class="currency" for="price-currency-select">{{inputPaymentRequest.currency ? inputPaymentRequest.currency.symbol : ''}}</label> <select class="price-currency-select" id="price-currency-select" ng-model="inputPaymentRequest.currency" ng-options="currency as currency.symbol for currency in currencies" tabindex="3"></select> </span> <span class="price-input"> <input ng-if="platform.isAndroid()" ng-model="inputPaymentRequest.price" name="price" type="tel" placeholder="0.00" ng-required="true" class="ng-pristine ng-untouched ng-invalid ng-invalid-required" required="required"> <input ng-if="!platform.isAndroid()" ng-model="inputPaymentRequest.price" name="price" type="text" placeholder="0.00" ng-required="true" class="ng-pristine ng-untouched ng-invalid ng-invalid-required" required="required"> </span> </div> <div class="item item-grey"> {{ 'CHOOSE A DEAL' | translate }} </div> <div class="product-thumb"> <div class="item images"> <label class="image-box" ng-class="{'active':inputPaymentRequest.product_id==product.id}" ng-repeat="product in myProducts track by product.id"> <input type="radio" value="{{product.id}}" name="product_id" ng-model="inputPaymentRequest.product_id"> <img ng-src="{{product.defaultImage}}" ng-if="product.defaultImage!=null"> <cl-image ng-if="!product.defaultImage" public-id="{{product.media[0].mediaUrl}}" class="thumbnail inline" format="jpg" secure="secure" resource-type="{{product.media[0].type}}"> <cl-transformation height="150" width="150" crop="fill"></cl-transformation> </cl-image> </label> </div> </div> </form> </ion-content> <div class="bar bar-footer modal-footer modal-buttons hide-on-keyboard-open"> <button class="button horizontal-button contact-button dark-blue" ng-click="closeModal()"> {{ 'CANCEL' | translate }} </button> <button ng-disabled="!inputPaymentRequest.price || inputPaymentRequest.price === '' || !inputPaymentRequest.product_id || inputPaymentRequest.product_id == '' || sendingMessage" class="button horizontal-button ask-a-friend-button dark-blue" ng-click="sendPaymentRequest(sendPaymentRequestForm)"> {{ 'SEND' | translate }} </button> </div> </ion-modal-view>