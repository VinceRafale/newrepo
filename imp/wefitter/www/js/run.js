angular.module("app").run(["$ionicPlatform","ConnectivityMonitor","$cordovaKeyboard","$filter","wfConfig","$timeout","$http","$rootScope","$localStorage","$location","$ionicPopup","$ionicLoading","amMoment","$translate","$cordovaSQLite","storeLocalData","$state",function(n,i,e,o,a,t,c,l,r,s,d,u,f,p,g,w,m){function b(){Branch.setDebug(!0),Branch.initSession()}l.referraldata={},n.ready(function(){function n(n){l.localData.countryCode=n.countryCode,w.set("countryCode",JSON.stringify(l.localData.countryCode))}function i(n){}function r(n,i,e,o){i=i||null,t(function(){d.alert({title:n,okType:"button-positive big-button",subTitle:i,template:e}).then(function(n){return o.url&&o.external?void window.open(o.url,"_system","location=yes"):void(o.url&&s.url(o.url))})})}if(navigator&&navigator.splashscreen&&navigator.splashscreen.hide(),window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),cordova.plugins.Keyboard.disableScroll(!0),l.$watch(function(){return e.isVisible()},function(n){l.keyboardOpen=n})),l.currentPlatform=ionic.Platform.platform(),window.StatusBar&&(StatusBar.styleLightContent(),"android"==cordova.platformId&&StatusBar.backgroundColorByHexString("#0a1c37")),f.changeLocale(a.DEFAULT_LANG),moment.lang("es",{relativeTime:{future:"en %s",past:"hace %s",s:"segundos",m:"1 min",mm:"%d min",h:"1 h",hh:"%d h",d:"1 día",dd:"%d días",M:"1 mes",MM:"%d meses",y:"1 año",yy:"%d años",Do:"%s"}}),"undefined"!=typeof navigator.globalization?navigator.globalization.getPreferredLanguage(function(n){p.use(n.value.split("-")[0]).then(function(n){f.changeLocale(n)},function(n){p.use(a.DEFAULT_LANG),f.changeLocale(a.DEFAULT_LANG)})},null):(p.use(a.DEFAULT_LANG),f.changeLocale(a.DEFAULT_LANG)),window.plugins&&window.plugins.sim&&window.plugins.sim.getSimInfo(n,i),window.mixpanel){var u=null,g="b03a749093f2ecd609e64eea0c36fcb0";u=window.mixpanel,u.init(g,function(n){},function(n){})}var m=function(n){var i=p.use().split("-")[0];void 0===i&&(i=p.use());var e=n.additionalData,a=n.message,t=e&&e.title?e.title:o("translate")("ACTION.NOTIFICATION");if(window.mixpanel&&(e.notification_type&&e.notification_type_id?window.mixpanel.track("Notification opened",{notificationType:e.notification_type,notificationTypeId:e.notification_type_id}):window.mixpanel.track("Notification opened",{notificationType:"Unknown",notificationTypeId:"Unknown"})),e.badge){e.badge.name[i]||(i="en");var l=angular.element('<div class="badge-wf"><span class="icon-wf-box active"><span class="wf-stack wf-lg"> <img src="'+e.badge.image_url+'" /> <i class="wf wf-stack-2x wf-badge positive"></i></span><h4>'+e.badge.name[i]+"</h4></span></div>");popupSubTitle='<i class="wf wf-coins"></i> +'+e.badge.points,a=e.badge.description[i],c.get(e.badge.image_url).success(function(n){l.find("img").replaceWith(n),t=l[0].outerHTML,r(t,popupSubTitle,a,e)})}else r(t,null,a,e)};if(window.plugins&&window.plugins.OneSignal&&(window.plugins.OneSignal.init(a.ONESIGNAL.ID,{googleProjectNumber:a.ONESIGNAL.GOOGLE_PROJECT},m),window.plugins.OneSignal.enableInAppAlertNotification(!1)),window.mixpanel){var u=null,g="b03a749093f2ecd609e64eea0c36fcb0";u=window.mixpanel,u.init(g,function(n){},function(n){})}}),l.$on("$ionicView.beforeEnter",function(n,i){l.hideCoins=!i.enableBack}),l.$on("$stateChangeStart",function(n,i){l.currentState=i.name,l.currentStateClass=l.currentState.split(".").join("-")}),document.addEventListener("deviceready",b,!1),document.addEventListener("resume",b,!1)}]);