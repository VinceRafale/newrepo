angular.module("app.routes",[]).config(["$stateProvider","$urlRouterProvider",function(e,t){function l(e,t,l,r,a){authObj=l;var i=e.defer();return l.isAuthenticated()?t.path("/dashboard"):i.resolve(),i.promise}function r(e,t,l,r){var a=e.defer();return db?a.resolve():(t.localData={},window.cordova?db=window.sqlitePlugin.openDatabase({name:"wefitter.db",location:"default"}):db=window.openDatabase("wefitter.db","1.0","My app",-1),r.execute(db,"CREATE TABLE IF NOT EXISTS localStorage (key TEXT, value OBJECT)").then(function(e){r.execute(db,"SELECT * FROM localStorage").then(function(e){if(e.rows.length>0){for(var l=0;l<e.rows.length;l++)"ios"==ionic.Platform.platform()&&e.rows.item(l).key||e.rows.item(l).key?t.localData[e.rows.item(l).key]=JSON.parse(JSON.parse(e.rows.item(l).value)):t.localData[e.rows[l].key]=JSON.parse(JSON.parse(e.rows[l].value));a.resolve()}else a.resolve()},function(e){l.path("/slides")})},function(e){l.path("/slides")})),a.promise}t.otherwise(function(e,t){var l=e.get("$rootScope");l.localData={},window.cordova?document.addEventListener("deviceready",function(){var t=e.get("$cordovaSQLite");db=window.sqlitePlugin.openDatabase({name:"wefitter.db",location:"default"},function(r){t.execute(db,"CREATE TABLE IF NOT EXISTS localStorage (key TEXT, value OBJECT)").then(function(r){t.execute(db,"SELECT * FROM localStorage").then(function(t){if(t.rows.length>0){for(var r=0;r<t.rows.length;r++)"ios"==ionic.Platform.platform()&&t.rows.item(r).key||t.rows.item(r).key?l.localData[t.rows.item(r).key]=JSON.parse(JSON.parse(t.rows.item(r).value)):l.localData[t.rows[r].key]=JSON.parse(JSON.parse(t.rows[r].value));l.localData.hasOpenedApp?e.get("$state").transitionTo("auth.login"):e.get("$state").transitionTo("slides")}else e.get("$state").transitionTo("slides")},function(t){e.get("$state").transitionTo("slides")})},function(t){e.get("$state").transitionTo("slides")})},function(e){})},!1):e.get("$state").transitionTo("auth.login")}),e.state("auth",{"abstract":!0,templateUrl:"layouts/auth.html"}).state("auth.login",{cache:!1,url:"/login",views:{auth:{controller:"loginCtrl as login",resolve:{getSqliteData:r,skipIfLoggedIn:l},templateUrl:"auth/login.html"}}}).state("auth.forgot",{url:"/forgot",cache:!1,resolve:{skipIfLoggedIn:l},views:{auth:{resolve:{skipIfLoggedIn:l},templateUrl:"auth/forgot.html",controller:"forgotCtrl"}}}).state("app",{"abstract":!0,controller:"appCtrl",templateUrl:"layouts/side-menu.html",resolve:{getSqliteData:r,loginRequired:["auth",function(e){return e.loginRequired()}],bootData:["dataService",function(e){return e.boot()}]}}).state("slides",{cache:!0,url:"/login_slides",controller:"loginSlidesCtrl",templateUrl:"intro/slides.html",resolve:{getSqliteData:r}}).state("intro",{"abstract":!0,controller:"appCtrl",templateUrl:"layouts/intro.html",resolve:{getSqliteData:r,loginRequired:["auth",function(e){return e.loginRequired()}],bootData:["dataService",function(e){return e.boot()}]}}).state("intro.start",{cache:!1,url:"/intro",views:{main:{controller:"introCtrl",templateUrl:"intro/intro.html"}}}).state("intro.connect",{cache:!1,url:"/intro/connect",views:{main:{controller:"connectionCtrl",templateUrl:"intro/connect.html"}}}).state("intro.connectIt",{url:"/intro/connect/:id",views:{main:{controller:"singleConnectionCtrl",templateUrl:"intro/connect-single.html"}}}).state("intro.profile",{url:"/intro/profile",cache:!1,views:{main:{controller:"profileCtrl",templateUrl:"intro/profile.html"}}}).state("intro.entities",{url:"/intro/entities",cache:!1,views:{main:{controller:"entityCtrl",templateUrl:"intro/entities.html"}}}).state("intro.entities.mine",{url:"intro/entities/mine",cache:!1,views:{"entities-mine":{controller:"entityMineCtrl",templateUrl:"intro/entities-list.html"}}}).state("intro.entities.all",{url:"intro/entities/all",cache:!1,views:{"entities-all":{controller:"entityAllCtrl",templateUrl:"intro/entities-list.html"}}}).state("intro.entity",{url:"/intro/entity/:id",views:{main:{controller:"entitySingleCtrl",templateUrl:"intro/entity-single.html"}}}).state("intro.entityMembers",{url:"/intro/entityMembers/:id",views:{main:{controller:"entityMembersCtrl",templateUrl:"entity/entity-members.html"}}}).state("intro.challenge",{url:"/intro/challenge/:id",views:{main:{controller:"singleChallengeCtrl",templateUrl:"intro/challenge-single.html"}}}).state("intro.friend-request",{cache:!1,url:"/intro/friend-request",views:{main:{controller:"friend-requestCtrl",templateUrl:"intro/friend-request.html"}}}).state("intro.done",{cache:!1,url:"/intro/done",views:{main:{controller:"introCtrl",templateUrl:"intro/intro-end.html"}}}).state("app.dashboard",{url:"/dashboard",views:{main:{controller:"dashboardCtrl",templateUrl:"dashboard/dashboard.html"}}}).state("app.dashboardHow",{url:"/how-dashboard-works",views:{main:{controller:"howDashboardCtrl",templateUrl:"dashboard/dashboard_how.html"}}}).state("app.connect",{cache:!1,url:"/connect",views:{main:{controller:"connectionCtrl",templateUrl:"connect/connect.html"}}}).state("app.connectIt",{cache:!1,url:"/connect/:id",views:{main:{controller:"singleConnectionCtrl",templateUrl:"connect/connect-single.html"}}}).state("app.challenges",{url:"/challenges","abstract":!0,views:{main:{controller:"challengesCtrl",templateUrl:"challenge/challenges.html"}}}).state("app.challenges.all",{cache:!1,url:"/challenge/all",views:{"challenges-all":{controller:"challengesAllCtrl",templateUrl:"challenge/challenges-list.html"}}}).state("app.challenges.mine",{cache:!1,url:"/challenge/mine",views:{"challenges-mine":{controller:"challengesMineCtrl",templateUrl:"challenge/challenges-list.html"}}}).state("app.challenge",{url:"/challenge/:id",views:{main:{controller:"singleChallengeCtrl",templateUrl:"challenge/singleChallenge.html"}}}).state("app.challengeHow",{url:"/how-challenge-works",views:{main:{controller:"howChallengeCtrl",templateUrl:"challenge/how.html"}}}).state("app.share",{url:"/share/:text/:subject/:img/:link/:id/:element",views:{main:{controller:"shareCtrl",templateUrl:"sharing/share.html"}}}).state("app.rewards",{url:"/rewards","abstract":!0,views:{main:{controller:"rewardsCtrl",templateUrl:"rewards/rewards.html"}}}).state("app.rewards.all",{cache:!1,url:"/reward/all",views:{"rewards-all":{controller:"rewardsAllCtrl",templateUrl:"rewards/rewards-list.html"}}}).state("app.rewards.mine",{cache:!1,url:"/reward/mine",views:{"rewards-mine":{controller:"rewardsMineCtrl",templateUrl:"rewards/rewards-list.html"}}}).state("app.reward",{url:"/reward/:id",views:{main:{controller:"singleRewardCtrl",templateUrl:"rewards/singleReward.html"}}}).state("app.purchase",{url:"/purchase/:id",views:{main:{controller:"singlePurchaseCtrl",templateUrl:"rewards/singlePurchase.html"}}}).state("app.rewardShare",{url:"/reward/:id/share",views:{main:{controller:"shareCtrl",templateUrl:"sharing/share.html",resolve:{shareData:["dataService","$stateParams",function(e,t){return e.get("rewards/"+t.id,{cache:!1})}]}}}}).state("app.profile",{url:"/profile",cache:!1,views:{main:{controller:"profileCtrl",templateUrl:"auth/profile.html"}}}).state("app.userProfile",{url:"/user-profile",cache:!1,views:{main:{controller:"userProfileCtrl",templateUrl:"auth/user-profile.html"}}}).state("app.publicProfile",{url:"/public/:id",cache:!1,views:{main:{controller:"publicProfileCtrl",templateUrl:"auth/public-profile.html"}}}).state("app.friends",{url:"/friends/:id/:name","abstract":!0,cache:!1,views:{main:{controller:"friendsCtrl",templateUrl:"auth/friends.html"}}}).state("app.friends.following",{url:"/following",cache:!1,views:{"friends-following":{controller:"friendsFollowingCtrl",templateUrl:"auth/friends-list.html"}}}).state("app.friends.followers",{url:"/followers",cache:!1,views:{"friends-followers":{controller:"friendsFollowersCtrl",templateUrl:"auth/friends-list.html"}}}).state("app.addFriend",{url:"/addFriend",cache:!1,views:{main:{controller:"addFriendCtrl",templateUrl:"auth/addFriend.html"}}}).state("app.findFriend",{url:"/findFriend/:type",cache:!1,views:{main:{controller:"findFriendCtrl",templateUrl:"auth/find-friend.html"}}}).state("app.activities",{url:"/activities",views:{main:{controller:"activitiesCtrl",templateUrl:"activity/activities.html"}}}).state("app.activity",{url:"/activity/:id",views:{main:{controller:"singleActivityCtrl",templateUrl:"activity/singleActivity.html"}}}).state("app.activityShare",{url:"/activity/:id/share",views:{main:{controller:"shareCtrl",templateUrl:"sharing/share.html",resolve:{shareData:["dataService","$stateParams",function(e,t){return e.get("workouts/"+t.id,{cache:!1})}]}}}}).state("app.achievements",{url:"/achievements","abstract":!0,views:{main:{controller:"achievementsCtrl",templateUrl:"achievement/achievements.html"}}}).state("app.achievements.challenges",{url:"/achievement/challenges",views:{"achievements-challenges":{controller:"achievementsChallengeCtrl",templateUrl:"achievement/achievements-list.html"}}}).state("app.achievements.progress",{url:"/achievement/progress",views:{"achievements-progress":{controller:"achievementsProgressCtrl",templateUrl:"achievement/achievements-list.html"}}}).state("app.achievements.events",{url:"/achievement/events",views:{"achievements-events":{controller:"achievementsEventCtrl",templateUrl:"achievement/achievements-list.html"}}}).state("app.leaderboard",{cache:!1,url:"/leaderboard",views:{main:{controller:"leaderboardCtrl",templateUrl:"leaderboard/leaderboard.html"}}}).state("app.entities",{url:"/entities",cache:!1,views:{main:{controller:"entityCtrl",templateUrl:"entity/entities.html"}}}).state("app.entities.mine",{url:"/entities/mine",cache:!1,views:{"entities-mine":{controller:"entityMineCtrl",templateUrl:"entity/entities-list.html"}}}).state("app.entities.all",{url:"/entities/all",cache:!1,views:{"entities-all":{controller:"entityAllCtrl",templateUrl:"entity/entities-list.html"}}}).state("app.entity",{url:"/entity/:id",views:{main:{controller:"entitySingleCtrl",templateUrl:"entity/entity-single.html"}}}).state("app.entityMembers",{url:"/entityMembers/:id",views:{main:{controller:"entityMembersCtrl",templateUrl:"entity/entity-members.html"}}}).state("app.create-group",{url:"/create-group",cache:!1,views:{main:{controller:"create-groupCtrl",templateUrl:"entity/create-group.html"}}}).state("app.edit-group",{url:"/edit-group/:id",cache:!1,views:{main:{controller:"edit-groupCtrl",templateUrl:"entity/create-group.html"}}}).state("app.settings",{url:"/settings",cache:!1,views:{main:{templateUrl:"settings/settings.html",controller:"settingsCtrl"}}}).state("app.help",{url:"/help",cache:!1,views:{main:{templateUrl:"settings/help.html",controller:"helpCtrl"}}}).state("app.connectionFAQ",{url:"/connectionFAQ",views:{main:{controller:"connectionFAQCtrl",templateUrl:"connect/faq.html"}}}),l.$inject=["$q","$location","auth","$rootScope","$cordovaSQLite"],r.$inject=["$q","$rootScope","$location","$cordovaSQLite"]}]);