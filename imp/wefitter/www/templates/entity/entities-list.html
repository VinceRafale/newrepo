
<ion-view title="{{ 'GROUPS.TITLE' | translate }}">
  	<ion-content class="has-header padding">
  		<ion-refresher
          spinner="none"
          pulling-text="{{ 'ACTION.PULL_REFRESH' | translate }}"
          on-refresh="pullRefresh()">
        </ion-refresher>
        <!-- <div class="card connect-getSupport addgroup-card" ng-if="search.name.length < 3 || search.name.length == '' ">
    			<div class="item item-text-wrap wrapper" ng-click="createGroup()">
    				<div class="ion-ios-people-outline icon-div people-icon"></div>
    				<p translate="GROUPS.CREATE_TEXT"> Create Text</p>
    				<div class="support_btn_wrap"><span class="support_btn" translate="GROUPS.CREATE_GROUP">GET</span><span class="ion-ios-arrow-right"></span></div>
    			</div>
    		</div> -->
        <div class="friend-list" ng-click="createGroup()" ng-if="showCreateGroup == true && (search.name.length < 3 || search.name.length == '' )">
        <div class="row friend-row add-friend thumb-bar-wf min-height-inherit">
          <div class="col col-20 icon-wrapper margin-auto">
            <div class="profile-user-image background-assertive"><i class="ion-android-add add-icon"></i></div>
          </div>
          <div class="col add-friend-text">
            <span>{{ 'GROUPS.CREATE_GROUP' | translate }}</span>
            <div class="initial-text"><span class="sub-text">{{ 'GROUPS.CREATE_TEXT' | translate }}</span></div>
          </div>
        </div>
      </div>

      <div class="row thumb-bar-wf featured-main-wrapper" ng-repeat="entity in entities track by $index" ng-click="openGroupDetail(entity.id,entity.name)">
          <div class="col col-40 thumb-back-img" ng-style="entity.image_url ? {'background':'#ffffff url({{ entity.image_url }})'} : {'background':'#0b1e32 url(../img/avatar_group.svg) center no-repeat','background-clip':'content-box'} ">
            <!-- <div class="thumb margin-top-9 img-thumb-size">
              <img class="img-responsive height-full" ng-src="{{ entity.image_url }}" alt="" />
            </div> -->
          </div>
          <div class="col col-60 thumb-caption">
              <h4>{{ entity.name }}</h4>
              <p>
                <div class="c-level ng-binding">
                  <div class="type-wrapper">{{ entity.type }}</div>
                </div>
              </p>
              <div class="c-level ng-binding dark">
                <i class="wf wf-people"></i> {{entity.subscribers}}
                  <i class="wf wf-time padding-left-15"></i> {{entity.active_challenges}}
                    <i class="wf wf-trophy padding-left-15"></i> {{entity.active_rewards}}
              </div>
          </div>
            <div class="featured-wrapper" ng-if="entity.featured == '1'"><i class="ion-ios-star"></i>{{ 'CHALLENGE.FEATURED' | translate }}</div>
      </div>
      <!-- <ion-list> -->
      <!-- <ion-item ng-click="giveEntityFeedback()" ng-show="search.name.length > 0 && filteredItems.length === 0">
        <div class="item-content">
          <i class="checker icon ion-ios-help"></i>
          <p>{{ addEntityText }}</p>
        </div>
      </ion-item>

      <ion-item ng-show="search.name.length > 0 && filteredItems.length === 0">
        <p translate="GROUPS.EMPTY_SEARCH_RESULT_MSG"></p>
      </ion-item>
      <ion-item ng-show="search.name.length === 0 && items.length === 0">
        <p translate="GROUPS.EMPTY_RESULT_MSG"></p>
      </ion-item> -->
    <!-- </ion-list> -->
		<div wf-pager params="params" distance="10" offset="10" dataset="entities" url="url"></div>

	</ion-content>
	<div class="bar-clear bar-soft-shadow"></div>
  <button ng-if="showFilter" ng-click="openFilter(params)" class="button button-assertive button-round button-righ-bottom-sticky bottom-2-5em">
            <i class="wf wf-filters"></i>
    </button>
</ion-view>
