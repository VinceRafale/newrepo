<ion-view cache-view="false" view-title="Profile" ng-controller="SettingsCtrl">
    <ion-nav-buttons side="left">
        <button class="button button-icon ion-chevron-left client-positive" ng-click="backToSettings()">Settings</button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button class="button button-icon" style="color:#2695f9" ng-show="user_data.username && user_data.profilename" ng-click="saveProfile()">Done</button>
    </ion-nav-buttons>
    <ion-content>
        <div class="profile-picture" ng-click="uploadPicture()">
            <img class="profile-pic" ng-src="{{ user_data.image }}"/>
            <i class="edit_info_plus icon ion-ios7-plus-outline" style=""></i>
        </div>
        <div class="padding"></div>
        <form novalidate
        name="LoginForm"
        ng-submit="saveProfile()">
            <div class="list list-inset list-profile update signup_first_step_form">
                <label class="item item-title">
                    <span>Personal</span>
                </label>
                <label class="item item-input">
                    <i class="icon ion-person placeholder-icon"></i>&nbsp;
                    <input type="text" ng-keyup="keyUpHandler($event)" name="profileName" placeholder="Profile name" ng-model="user_data.username"
                           ng-minlength="2" ng-maxlength="25" custom-maxlength="26" ng-model-options="{allowInvalid:true}">
                </label>
                <div class="profilename-errors" style="padding-left: 10px;">
                  <p class="error" ng-show="!!LoginForm.profileName.$error.minlength">
                    Too short!
                  </p>
                  <p class="error" ng-show="!!LoginForm.profileName.$error.maxlength">
                    Too long!
                  </p>
                </div>

                <label class="item item-input">
                    <i class="icon ion-at placeholder-icon"></i>&nbsp;
                    <input type="text" ng-keyup="keyUpHandler($event)" name="name" placeholder="User name" ng-model="user_data.profilename"
                           ng-minlength="2" ng-maxlength="25"  custom-maxlength="26" ng-trim="false" ng-model-options="{allowInvalid:true}">
                </label>

                <div class="username-errors"style="padding-left: 10px;">
                  <p class="error" ng-show="!!LoginForm.name.$error.minlength">
                    Too short!
                  </p>
                  <p class="error" ng-show="!!LoginForm.name.$error.maxlength">
                    Too long!
                  </p>
                  <p class="error" ng-show="errors.usernamePattern">
                    You can use only numbers, letters and periods!
                  </p>
                </div>

            </div>
        </form>
    </ion-content>
</ion-view>
