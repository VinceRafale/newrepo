<ul class="rating" ng-keydown="onKeydown($event)">
  <li ng-repeat="r in range track by $index" ng-click="rate($index + 1)" aria-label="rate {r} stars">
    <i class="icon" ng-class="value === undefined ?
      (r === 1 ? 'ion-ios-star' :
      (r === 2 ? 'ion-ios-star-half' : 'ion-ios-star-outline')) :
      (value > $index ? (value < $index+1 ? 'ion-ios-star-half' :
      'ion-ios-star') :
      'ion-ios-star-outline')">
    </i>
  </li>
</ul>
