function decodeAMR(e){var a=new AMR({benchmark:!1}),r=new Uint8Array(e);postMessage("starting decode");var n=(new Date).getTime(),t=a.decode(r),s=(new Date).getTime();postMessage("finished decode: "+(s-n));var i;if(t){var d=640,o=t.length/d,g=~~(o/10)||1;i=new Float32Array(d);for(var c=0;d>c;c++){for(var f=~~(c*o),m=~~(f+o),v=0,l=f;m>l;l+=g){var p=t[l];p>v?v=p:-p>v&&(v=-p)}v>i[c]&&(i[c]=v)}}return i}importScripts("../lib/pcmdata.min.js","../lib/amrnb.min.js"),self.addEventListener("message",function(e){for(var a=e.data,r=decodeAMR(a),n=new Array(r.length),t=0;t<n.length;++t)n[t]=r[t];postMessage({peaks:JSON.stringify(n)})},!1);